<!doctype html>
<html>
<head>
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script type="text/javascript" src="/turn.min.js"></script>
  <style type="text/css">
    body {
      background: #ccc;
    }
    #book {
      width: 800px;
      height: 500px;
      margin: auto;
	  
    }
    #book .turn-page {
		background-color: #B9AE8F;
    }
    #book .cover {
      background: #333;
    }
    #book .cover h1 {
      color: white;
      text-align: center;
      font-size: 50px;
      line-height: 500px;
      margin: 0px;
    }
    #book .data {
      text-align: center;
      font-size: 40px;
      color: #999;
      line-height: 500px;
    }
    #book .odd {
      background-image: linear-gradient(to right, #FFF 95%, #ddd 100%);
    }
    #book .even {
      background-image: linear-gradient(to left, #FFF 95%, #ddd 100%);
    }
  </style>
</head>
<body>

<div id="book">
	<div class="page" id="page1"></div>
  	<div class="page" id="page2"></div>
  	<div class="page" id="page3"></div>
</div>
</div>

<script type="text/javascript">
	
  for (let i = 1; i <= 10; i++) {
    $('#book').append(`<div class="page" id="page${i}"></div>`);
    $(`#page${i}`).load(`page${i}.html`);
  }

  $(document).ready(function () {
    const numberOfPages = 10;

    // Initialize the book
    $('#book').turn({
      width: 800,
      height: 500,
      autoCenter: true
    });

    // Set the total number of pages in the UI
    $('#number-pages').text($('#book').turn('pages'));

    // Keyboard navigation
    $(window).on('keydown', function (e) {
      if (e.target && e.target.tagName.toLowerCase() !== 'input') {
        if (e.keyCode === 37) $('#book').turn('previous');
        else if (e.keyCode === 39) $('#book').turn('next');
      }
    });

    // Jump to page input
    $('#page-number').on('change', function () {
      const page = parseInt($(this).val());
      $('#book').turn('page', page);
    });
  });

  $('#book').on('click', function (e) {
  const offset = $(this).offset();
  const width = $(this).width();
  const clickX = e.pageX - offset.left;

  if (clickX < width / 2) {
    // Clicked on the left half — go to previous page
    $(this).turn('previous');
  } else {
    // Clicked on the right half — go to next page
    $(this).turn('next');
  }
});

let lastScrollTop = 0;

$('#book').on('wheel', function (e) {
  e.preventDefault(); // prevent the default scroll behavior

  const delta = e.originalEvent.deltaY;

  if (delta > 0) {
    // Scrolling down — next page
    $(this).turn('next');
  } else {
    // Scrolling up — previous page
    $(this).turn('previous');
  }
});

</script>

</body>
</html>
